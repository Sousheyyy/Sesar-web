(()=>{var e={};e.id=67,e.ids=[67],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},78893:e=>{"use strict";e.exports=require("buffer")},80949:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>i.Z,__next_app__:()=>m,originalPathname:()=>c,pages:()=>o,routeModule:()=>x,tree:()=>d}),a(96544),a(22041),a(40951),a(77564),a(26083),a(96560);var t=a(23191),r=a(88716),i=a(48001),l=a(95231),n={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>l[e]);a.d(s,n);let d=["",{children:["(dashboard)",{children:["artist",{children:["songs",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,96544)),"C:\\Users\\ilker\\Desktop\\sesar-web\\app\\(dashboard)\\artist\\songs\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,22041)),"C:\\Users\\ilker\\Desktop\\sesar-web\\app\\(dashboard)\\artist\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,40951)),"C:\\Users\\ilker\\Desktop\\sesar-web\\app\\(dashboard)\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,77564)),"C:\\Users\\ilker\\Desktop\\sesar-web\\app\\layout.tsx"],error:[()=>Promise.resolve().then(a.bind(a,26083)),"C:\\Users\\ilker\\Desktop\\sesar-web\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(a.bind(a,96560)),"C:\\Users\\ilker\\Desktop\\sesar-web\\app\\not-found.tsx"]}],o=["C:\\Users\\ilker\\Desktop\\sesar-web\\app\\(dashboard)\\artist\\songs\\page.tsx"],c="/(dashboard)/artist/songs/page",m={require:a,loadChunk:()=>Promise.resolve()},x=new t.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/(dashboard)/artist/songs/page",pathname:"/artist/songs",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},81983:(e,s,a)=>{Promise.resolve().then(a.bind(a,7986))},35303:()=>{},7986:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>C,dynamic:()=>w});var t=a(10326),r=a(17577),i=a(90434),l=a(90772),n=a(33071),d=a(567),o=a(77863),c=a(77506);let m=(0,a(62881).Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var x=a(28301),u=a(17069),h=a(48998),p=a(49758),f=a(62288),g=a(68483),j=a(79635),v=a(37358),y=a(7027),N=a(98091),b=a(85999);function k({song:e,open:s,onOpenChange:a,onDelete:i}){var n;let[m,k]=(0,r.useState)(!1),[w,C]=(0,r.useState)(!1);if(!e)return null;let Z=e.videoCount,z=e.videoCount&&e.videoCount>1e4,M=async()=>{if(!w){C(!0);return}try{k(!0);let s=await fetch(`/api/songs/${e.id}`,{method:"DELETE"});if(!s.ok){let e=await s.json();throw Error(e.error||"Failed to delete song")}b.Am.success("Şarkı başarıyla silindi"),a(!1),i&&i(e.id)}catch(e){console.error("Delete error:",e),b.Am.error(e.message||"Şarkı silinemedi")}finally{k(!1),C(!1)}};return t.jsx(f.Vq,{open:s,onOpenChange:a,children:(0,t.jsxs)(f.cZ,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)(f.fK,{children:[(0,t.jsxs)(f.$N,{className:"flex items-center gap-2 text-2xl",children:[t.jsx(x.Z,{className:"h-6 w-6 text-primary"}),e.title]}),e.authorName&&(0,t.jsxs)(f.Be,{className:"flex items-center gap-2 text-base",children:[t.jsx(j.Z,{className:"h-4 w-4"}),e.authorName]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[e.coverImage?t.jsx("img",{src:e.coverImage,alt:e.title,className:"h-32 w-32 rounded-lg object-cover shadow-md"}):t.jsx("div",{className:"flex h-32 w-32 items-center justify-center rounded-lg bg-muted",children:t.jsx(x.Z,{className:"h-12 w-12 text-muted-foreground"})}),(0,t.jsxs)("div",{className:"flex-1 space-y-2",children:[z&&(0,t.jsxs)(d.C,{variant:"default",className:"gap-1",children:[t.jsx(u.Z,{className:"h-3 w-3"}),"TikTok'ta Trend"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[t.jsx(h.Z,{className:"h-4 w-4 text-muted-foreground"}),t.jsx("span",{className:"font-medium",children:(n=e.duration,`${Math.floor(n/60)}:${(n%60).toString().padStart(2,"0")}`)})]})]})]}),e.description&&(0,t.jsxs)(t.Fragment,{children:[t.jsx(g.Z,{}),(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"mb-2 font-semibold",children:"A\xe7ıklama"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:e.description})]})]}),Z&&(0,t.jsxs)(t.Fragment,{children:[t.jsx(g.Z,{}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"mb-3 font-semibold flex items-center gap-2",children:[t.jsx(u.Z,{className:"h-4 w-4"}),"TikTok İstatistikleri"]}),null!==e.videoCount&&void 0!==e.videoCount&&(0,t.jsxs)("div",{className:"flex items-center gap-3 rounded-lg border p-3",children:[t.jsx("div",{className:"rounded-full bg-primary/10 p-2",children:t.jsx(p.Z,{className:"h-5 w-5 text-primary"})}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-lg font-bold",children:(0,o.uf)(e.videoCount)}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"TikTok'ta Oluşturulan Video"})]})]}),e.statsLastFetched&&(0,t.jsxs)("p",{className:"mt-2 text-xs text-muted-foreground",children:["Son g\xfcncelleme: ",(0,o.p6)(e.statsLastFetched)]})]})]}),e.videoCount&&t.jsx(t.Fragment,{children:(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"mb-2 flex justify-between text-xs text-muted-foreground",children:[t.jsx("span",{children:"Pop\xfclerlik"}),(0,t.jsxs)("span",{children:[e.videoCount<1e3&&"Başlangı\xe7",e.videoCount>=1e3&&e.videoCount<1e4&&"B\xfcy\xfcyen",e.videoCount>=1e4&&e.videoCount<5e4&&"Pop\xfcler",e.videoCount>=5e4&&"Viral"]})]}),t.jsx("div",{className:"h-2 w-full overflow-hidden rounded-full bg-secondary",children:t.jsx("div",{className:"h-full bg-primary transition-all",style:{width:`${Math.min(e.videoCount/5e4*100,100)}%`}})})]})}),t.jsx(g.Z,{}),(0,t.jsxs)("div",{className:"grid gap-3 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Kampanyalar"}),t.jsx("span",{className:"font-medium",children:e._count?.campaigns||0})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Y\xfcklenme Tarihi"}),(0,t.jsxs)("span",{className:"font-medium flex items-center gap-1",children:[t.jsx(v.Z,{className:"h-3 w-3"}),(0,o.p6)(e.createdAt)]})]})]}),t.jsx(g.Z,{}),(0,t.jsxs)("div",{className:"space-y-2",children:[e.tiktokUrl&&t.jsx("a",{href:e.tiktokUrl,target:"_blank",rel:"noopener noreferrer",className:"block",children:(0,t.jsxs)(l.z,{variant:"default",className:"w-full gap-2",children:[t.jsx(y.Z,{className:"h-4 w-4"}),"TikTok'ta A\xe7"]})}),w?(0,t.jsxs)("div",{className:"space-y-2 rounded-lg border border-destructive p-3",children:[t.jsx("p",{className:"text-sm font-medium text-center",children:"Bu şarkıyı silmek istediğinizden emin misiniz?"}),e._count&&e._count.campaigns>0&&(0,t.jsxs)("p",{className:"text-xs text-muted-foreground text-center",children:["Uyarı: Bu şarkı ",e._count.campaigns," kampanyada kullanılıyor"]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[t.jsx(l.z,{variant:"outline",className:"flex-1",onClick:()=>{C(!1)},disabled:m,children:"İptal"}),t.jsx(l.z,{variant:"destructive",className:"flex-1 gap-2",onClick:M,disabled:m,children:m?(0,t.jsxs)(t.Fragment,{children:[t.jsx(c.Z,{className:"h-4 w-4 animate-spin"}),"Siliniyor..."]}):(0,t.jsxs)(t.Fragment,{children:[t.jsx(N.Z,{className:"h-4 w-4"}),"Silmeyi Onayla"]})})]})]}):(0,t.jsxs)(l.z,{variant:"outline",className:"w-full gap-2 text-destructive hover:bg-destructive hover:text-destructive-foreground",onClick:M,disabled:m,children:[t.jsx(N.Z,{className:"h-4 w-4"}),"Şarkıyı Sil"]})]})]})]})})}let w="force-dynamic";function C(){let[e,s]=(0,r.useState)([]),[a,f]=(0,r.useState)(!0),[g,j]=(0,r.useState)(null),[v,y]=(0,r.useState)(!1),N=e=>{j(e),y(!0)};return a?t.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:t.jsx(c.Z,{className:"h-8 w-8 animate-spin text-primary"})}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Şarkılarım"}),t.jsx("p",{className:"text-muted-foreground",children:"M\xfczik k\xfct\xfcphanenizi y\xf6netin"})]}),t.jsx(i.default,{href:"/artist/songs/upload",children:(0,t.jsxs)(l.z,{className:"gap-2",children:[t.jsx(m,{className:"h-4 w-4"}),"Şarkı Y\xfckle"]})})]}),0===e.length?t.jsx(n.Zb,{children:(0,t.jsxs)(n.aY,{className:"flex flex-col items-center justify-center py-12",children:[t.jsx(x.Z,{className:"h-12 w-12 text-muted-foreground mb-4"}),t.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Hen\xfcz şarkı yok"}),t.jsx("p",{className:"text-muted-foreground text-center mb-4",children:"Kampanya oluşturmaya başlamak i\xe7in ilk şarkınızı y\xfckleyin"}),t.jsx(i.default,{href:"/artist/songs/upload",children:t.jsx(l.z,{children:"Şarkı Y\xfckle"})})]})}):t.jsx("div",{className:"grid gap-3 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5",children:e.map(e=>{var s;let a=e.videoCount&&e.videoCount>1e4;return t.jsx(n.Zb,{className:"group cursor-pointer transition-all hover:shadow-md hover:scale-[1.02]",onClick:()=>N(e),children:(0,t.jsxs)(n.aY,{className:"p-0",children:[(0,t.jsxs)("div",{className:"relative aspect-square overflow-hidden rounded-t-lg bg-muted",children:[e.coverImage?t.jsx("img",{src:e.coverImage,alt:e.title,className:"h-full w-full object-cover transition-transform group-hover:scale-105"}):t.jsx("div",{className:"flex h-full items-center justify-center",children:t.jsx(x.Z,{className:"h-12 w-12 text-muted-foreground"})}),a&&t.jsx("div",{className:"absolute top-1.5 right-1.5",children:(0,t.jsxs)(d.C,{variant:"default",className:"gap-1 shadow-lg text-xs px-1.5 py-0.5",children:[t.jsx(u.Z,{className:"h-2.5 w-2.5"}),"Trend"]})})]}),(0,t.jsxs)("div",{className:"p-3 space-y-2",children:[(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"font-semibold text-sm line-clamp-1",children:e.title}),e.authorName&&t.jsx("p",{className:"text-xs text-muted-foreground line-clamp-1",children:e.authorName})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[t.jsx(h.Z,{className:"h-3 w-3"}),(s=e.duration,`${Math.floor(s/60)}:${(s%60).toString().padStart(2,"0")}`)]}),e.videoCount&&(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[t.jsx(p.Z,{className:"h-3 w-3"}),(0,o.uf)(e.videoCount)]})]})]})]})},e.id)})}),t.jsx(k,{song:g,open:v,onOpenChange:y,onDelete:a=>{s(e.filter(e=>e.id!==a)),b.Am.success("Şarkı listeden kaldırıldı")}})]})}},567:(e,s,a)=>{"use strict";a.d(s,{C:()=>n});var t=a(10326);a(17577);var r=a(79360),i=a(77863);let l=(0,r.j)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500 text-white shadow hover:bg-green-600",warning:"border-transparent bg-yellow-500 text-white shadow hover:bg-yellow-600"}},defaultVariants:{variant:"default"}});function n({className:e,variant:s,...a}){return t.jsx("div",{className:(0,i.cn)(l({variant:s}),e),...a})}},33071:(e,s,a)=>{"use strict";a.d(s,{Ol:()=>n,SZ:()=>o,Zb:()=>l,aY:()=>c,ll:()=>d});var t=a(10326),r=a(17577),i=a(77863);let l=r.forwardRef(({className:e,...s},a)=>t.jsx("div",{ref:a,className:(0,i.cn)("rounded-xl border bg-card text-card-foreground shadow",e),...s}));l.displayName="Card";let n=r.forwardRef(({className:e,...s},a)=>t.jsx("div",{ref:a,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...s}));n.displayName="CardHeader";let d=r.forwardRef(({className:e,...s},a)=>t.jsx("h3",{ref:a,className:(0,i.cn)("font-semibold leading-none tracking-tight",e),...s}));d.displayName="CardTitle";let o=r.forwardRef(({className:e,...s},a)=>t.jsx("p",{ref:a,className:(0,i.cn)("text-sm text-muted-foreground",e),...s}));o.displayName="CardDescription";let c=r.forwardRef(({className:e,...s},a)=>t.jsx("div",{ref:a,className:(0,i.cn)("p-6 pt-0",e),...s}));c.displayName="CardContent",r.forwardRef(({className:e,...s},a)=>t.jsx("div",{ref:a,className:(0,i.cn)("flex items-center p-6 pt-0",e),...s})).displayName="CardFooter"},62288:(e,s,a)=>{"use strict";a.d(s,{$N:()=>h,Be:()=>p,Vq:()=>d,cZ:()=>x,fK:()=>u,hg:()=>o});var t=a(10326),r=a(17577),i=a(57113),l=a(94019),n=a(77863);let d=i.fC,o=i.xz,c=i.h_;i.x8;let m=r.forwardRef(({className:e,...s},a)=>t.jsx(i.aV,{ref:a,className:(0,n.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...s}));m.displayName=i.aV.displayName;let x=r.forwardRef(({className:e,children:s,...a},r)=>(0,t.jsxs)(c,{children:[t.jsx(m,{}),(0,t.jsxs)(i.VY,{ref:r,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...a,children:[s,(0,t.jsxs)(i.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[t.jsx(l.Z,{className:"h-4 w-4"}),t.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));x.displayName=i.VY.displayName;let u=({className:e,...s})=>t.jsx("div",{className:(0,n.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...s});u.displayName="DialogHeader";let h=r.forwardRef(({className:e,...s},a)=>t.jsx(i.Dx,{ref:a,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",e),...s}));h.displayName=i.Dx.displayName;let p=r.forwardRef(({className:e,...s},a)=>t.jsx(i.dk,{ref:a,className:(0,n.cn)("text-sm text-muted-foreground",e),...s}));p.displayName=i.dk.displayName},68483:(e,s,a)=>{"use strict";a.d(s,{Z:()=>c});var t=a(10326),r=a(17577),i=a(45226),l="horizontal",n=["horizontal","vertical"],d=r.forwardRef((e,s)=>{let{decorative:a,orientation:r=l,...d}=e,o=n.includes(r)?r:l;return(0,t.jsx)(i.WV.div,{"data-orientation":o,...a?{role:"none"}:{"aria-orientation":"vertical"===o?o:void 0,role:"separator"},...d,ref:s})});d.displayName="Separator";var o=a(77863);let c=r.forwardRef(({className:e,orientation:s="horizontal",decorative:a=!0,...r},i)=>t.jsx(d,{ref:i,decorative:a,orientation:s,className:(0,o.cn)("shrink-0 bg-border","horizontal"===s?"h-[1px] w-full":"h-full w-[1px]",e),...r}));c.displayName=d.displayName},37358:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(62881).Z)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},48998:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(62881).Z)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},7027:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(62881).Z)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},98091:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(62881).Z)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},49758:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(62881).Z)("video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]])},22041:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>i,dynamic:()=>r});var t=a(84427);let r="force-dynamic";async function i({children:e}){return await (0,t.Jt)(),e}},96544:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>i,dynamic:()=>r});var t=a(68570);let r=(0,t.createProxy)(String.raw`C:\Users\ilker\Desktop\sesar-web\app\(dashboard)\artist\songs\page.tsx#dynamic`),i=(0,t.createProxy)(String.raw`C:\Users\ilker\Desktop\sesar-web\app\(dashboard)\artist\songs\page.tsx#default`)}};var s=require("../../../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[8948,958,6978,5383,2736,3738,9137],()=>a(80949));module.exports=t})();