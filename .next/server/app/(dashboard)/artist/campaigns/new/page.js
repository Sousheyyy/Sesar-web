(()=>{var e={};e.id=4503,e.ids=[4503],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},78893:e=>{"use strict";e.exports=require("buffer")},41699:(e,a,t)=>{"use strict";t.r(a),t.d(a,{GlobalError:()=>i.Z,__next_app__:()=>m,originalPathname:()=>c,pages:()=>o,routeModule:()=>u,tree:()=>d}),t(79157),t(22041),t(40951),t(77564),t(26083),t(96560);var s=t(23191),r=t(88716),i=t(48001),n=t(95231),l={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);t.d(a,l);let d=["",{children:["(dashboard)",{children:["artist",{children:["campaigns",{children:["new",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,79157)),"C:\\Users\\ilker\\Desktop\\sesar-web\\app\\(dashboard)\\artist\\campaigns\\new\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,22041)),"C:\\Users\\ilker\\Desktop\\sesar-web\\app\\(dashboard)\\artist\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,40951)),"C:\\Users\\ilker\\Desktop\\sesar-web\\app\\(dashboard)\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,77564)),"C:\\Users\\ilker\\Desktop\\sesar-web\\app\\layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,26083)),"C:\\Users\\ilker\\Desktop\\sesar-web\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,96560)),"C:\\Users\\ilker\\Desktop\\sesar-web\\app\\not-found.tsx"]}],o=["C:\\Users\\ilker\\Desktop\\sesar-web\\app\\(dashboard)\\artist\\campaigns\\new\\page.tsx"],c="/(dashboard)/artist/campaigns/new/page",m={require:t,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/(dashboard)/artist/campaigns/new/page",pathname:"/artist/campaigns/new",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},96589:(e,a,t)=>{Promise.resolve().then(t.bind(t,32137))},35303:()=>{},32137:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>C,dynamic:()=>w});var s=t(10326),r=t(17577),i=t(35047),n=t(90772),l=t(54432),d=t(31048),o=t(33071),c=t(85999),m=t(62288),u=t(72567),x=t(1572),p=t(28301),h=t(66307),f=t(11890),g=t(39183),y=t(24061),j=t(37358);function b({className:e,...a}){return s.jsx("span",{className:`inline-flex items-center justify-center ${e||""}`,style:{fontWeight:"normal"},...a,children:"₺"})}var N=t(24989),v=t(77863),k=t(68483);let w="force-dynamic";function C(){let e=(0,i.useRouter)(),[a,t]=(0,r.useState)([]),[w,C]=(0,r.useState)(!1),[D,z]=(0,r.useState)(!1),[S,T]=(0,r.useState)(),[Z,P]=(0,r.useState)(),[M,B]=(0,r.useState)(1),[I,O]=(0,r.useState)(0),[_,F]=(0,r.useState)({songId:"",title:"",description:"",totalBudget:"",minFollowers:"",minVideoDuration:"15",startDate:"",endDate:"",targetTiers:[],isProOnly:!1}),U=e=>{F(a=>{let t=a.targetTiers;return t.includes(e)?{...a,targetTiers:t.filter(a=>a!==e)}:{...a,targetTiers:[...t,e]}})},V=async a=>{if(a.preventDefault(),!_.songId){c.Am.error("L\xfctfen bir şarkı se\xe7in");return}if(!_.startDate){c.Am.error("L\xfctfen kampanya başlangı\xe7 tarihi se\xe7in");return}if(!_.endDate){c.Am.error("L\xfctfen kampanya bitiş tarihi se\xe7in");return}let t=parseFloat(_.totalBudget);if(!_.totalBudget||isNaN(t)){c.Am.error("Ge\xe7erli bir b\xfct\xe7e giriniz");return}if(t<2e4){c.Am.error("Minimum kampanya b\xfct\xe7esi ₺20,000");return}let s=new Date(_.startDate),r=new Date(_.endDate),i=new Date;if(i.setHours(0,0,0,0),s<i){c.Am.error("Başlangı\xe7 tarihi bug\xfcn veya gelecekte olmalıdır");return}if(r<=s){c.Am.error("Bitiş tarihi başlangı\xe7 tarihinden sonra olmalıdır");return}C(!0);try{let a=await fetch("/api/campaigns",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({songId:_.songId,title:_.title,description:_.description||null,totalBudget:t,minFollowers:_.minFollowers?parseInt(_.minFollowers):null,minVideoDuration:_.minVideoDuration?parseInt(_.minVideoDuration):null,startDate:new Date(_.startDate).toISOString(),endDate:new Date(_.endDate).toISOString(),targetTiers:_.targetTiers,isProOnly:_.isProOnly})}),s=await a.json();if(!a.ok)throw Error(s.error||"Kampanya oluşturulamadı");c.Am.success("Kampanya oluşturuldu! Y\xf6netici onayı bekleniyor."),e.push(`/artist/campaigns/${s.id}`),e.refresh()}catch(e){c.Am.error(e.message||"Kampanya oluşturulamadı")}finally{C(!1)}},A=a.find(e=>e.id===_.songId),R=Math.ceil(a.length/6),K=a.slice((M-1)*6,6*M);return(0,s.jsxs)("div",{className:"mx-auto max-w-7xl space-y-8 p-4 md:p-8",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsxs)("h2",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[s.jsx(x.Z,{className:"h-8 w-8 text-primary"}),"Yeni Kampanya"]}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"Şarkınız i\xe7in viral bir kampanya başlatın ve i\xe7erik \xfcreticilerine ulaşın."})]}),(0,s.jsxs)("div",{className:"grid gap-8 lg:grid-cols-3",children:[(0,s.jsxs)("div",{className:"lg:col-span-2 space-y-8",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("h3",{className:"text-xl font-semibold flex items-center gap-2",children:[s.jsx("span",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-primary/10 text-primary text-sm",children:"1"}),"M\xfczik Se\xe7imi"]}),(0,s.jsxs)(m.Vq,{open:D,onOpenChange:z,children:[s.jsx(m.hg,{asChild:!0,children:s.jsx(n.z,{variant:"ghost",className:"text-primary hover:text-primary/80",children:"+ Yeni Şarkı Ekle"})}),(0,s.jsxs)(m.cZ,{className:"sm:max-w-[600px]",children:[s.jsx(m.fK,{children:s.jsx(m.$N,{children:"Şarkı Ekle"})}),s.jsx(u.u,{onSuccess:e=>{t([e,...a]),F({..._,songId:e.id}),z(!1),c.Am.success("Şarkı başarıyla eklendi!")},variant:"plain",showHeader:!1})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:K.map(e=>(0,s.jsxs)("div",{onClick:()=>F({..._,songId:e.id}),className:(0,v.cn)("cursor-pointer group relative flex flex-col gap-2 rounded-xl border-2 p-3 transition-all hover:shadow-md",_.songId===e.id?"border-primary bg-primary/5 ring-1 ring-primary":"border-muted bg-card hover:border-primary/50"),children:[(0,s.jsxs)("div",{className:"relative aspect-square w-full overflow-hidden rounded-lg bg-muted",children:[e.coverImage?s.jsx("img",{src:e.coverImage,alt:e.title,className:"h-full w-full object-cover transition-transform group-hover:scale-105"}):s.jsx("div",{className:"flex h-full w-full items-center justify-center bg-secondary",children:s.jsx(p.Z,{className:"h-12 w-12 text-muted-foreground/50"})}),_.songId===e.id&&s.jsx("div",{className:"absolute right-2 top-2 flex h-6 w-6 items-center justify-center rounded-full bg-primary text-primary-foreground shadow-sm",children:s.jsx(h.Z,{className:"h-4 w-4"})})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[s.jsx("h4",{className:"font-semibold leading-none truncate",title:e.title,children:e.title}),s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:e.authorName||"Unknown Artist"})]})]},e.id))}),a.length>6&&(0,s.jsxs)("div",{className:"flex items-center justify-center gap-2 pt-4",children:[s.jsx(n.z,{variant:"outline",size:"icon",onClick:()=>B(e=>Math.max(1,e-1)),disabled:1===M,className:"h-8 w-8",children:s.jsx(f.Z,{className:"h-4 w-4"})}),s.jsx("div",{className:"flex items-center gap-1 text-sm font-medium",children:Array.from({length:R},(e,a)=>a+1).map(e=>s.jsx("button",{onClick:()=>B(e),className:(0,v.cn)("flex h-8 w-8 items-center justify-center rounded-md transition-colors",M===e?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-muted"),children:e},e))}),s.jsx(n.z,{variant:"outline",size:"icon",onClick:()=>B(e=>Math.min(R,e+1)),disabled:M===R,className:"h-8 w-8",children:s.jsx(g.Z,{className:"h-4 w-4"})})]}),0===a.length&&s.jsx("div",{className:"rounded-lg border border-dashed p-8 text-center text-muted-foreground",children:"Hen\xfcz hi\xe7 şarkınız yok. Başlamak i\xe7in yeni bir şarkı ekleyin."})]}),s.jsx(k.Z,{}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("h3",{className:"text-xl font-semibold flex items-center gap-2",children:[s.jsx("span",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-primary/10 text-primary text-sm",children:"2"}),"Kampanya Detayları"]}),s.jsx(o.Zb,{children:(0,s.jsxs)(o.aY,{className:"p-6 space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(d._,{htmlFor:"title",children:"Kampanya Başlığı"}),s.jsx(l.I,{id:"title",placeholder:"\xd6rn: Yaz Hit Promosyonu",value:_.title,onChange:e=>F({..._,title:e.target.value}),className:"h-12 text-lg"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(d._,{htmlFor:"description",children:"A\xe7ıklama & Vizyon"}),s.jsx("textarea",{id:"description",className:"flex min-h-[100px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"İ\xe7erik \xfcreticilerinden ne bekliyorsunuz? (\xd6rn: Dans videosu, dudak senkronizasyonu...)",value:_.description,onChange:e=>F({..._,description:e.target.value})})]})]})})]}),s.jsx(k.Z,{}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("h3",{className:"text-xl font-semibold flex items-center gap-2",children:[s.jsx("span",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-primary/10 text-primary text-sm",children:"3"}),"Hedefleme & Zamanlama"]}),(0,s.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,s.jsxs)(o.Zb,{children:[s.jsx(o.Ol,{className:"pb-3",children:(0,s.jsxs)(o.ll,{className:"text-base flex items-center gap-2",children:[s.jsx(y.Z,{className:"h-4 w-4 text-primary"}),"Hedef Kitle"]})}),(0,s.jsxs)(o.aY,{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 border p-3 rounded-lg bg-secondary/20",children:[s.jsx("input",{type:"checkbox",id:"isProOnly",className:"h-5 w-5 rounded border-gray-300 text-primary focus:ring-primary",checked:_.isProOnly,onChange:e=>F({..._,isProOnly:e.target.checked})}),(0,s.jsxs)(d._,{htmlFor:"isProOnly",className:"font-medium cursor-pointer",children:["Sadece PRO \xdcyeler Katılabilsin",s.jsx("span",{className:"block text-xs text-muted-foreground font-normal",children:"Daha deneyimli i\xe7erik \xfcreticilerine ulaşın"})]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[s.jsx(d._,{className:"block",children:"Hedef İ\xe7erik \xdcretici Seviyeleri"}),s.jsx("div",{className:"flex gap-2 flex-wrap",children:["C","B","A","S"].map(e=>s.jsx("div",{onClick:()=>U(e),className:(0,v.cn)("cursor-pointer px-3 py-1.5 rounded-md border text-sm font-medium transition-colors flex items-center justify-center min-w-[36px]",_.targetTiers.includes(e)?"bg-primary text-primary-foreground border-primary":"bg-background hover:bg-muted border-input"),children:e},e))}),s.jsx("p",{className:"text-xs text-muted-foreground",children:0===_.targetTiers.length?"Se\xe7im yapılmazsa T\xdcM seviyeler katılabilir.":"Sadece se\xe7ilen seviyelerdeki \xfcreticiler katılabilir."})]}),s.jsx(k.Z,{}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(d._,{htmlFor:"minFollowers",children:"Minimum Takip\xe7i"}),s.jsx(l.I,{id:"minFollowers",type:"number",min:"0",placeholder:"1000",value:_.minFollowers,onChange:e=>F({..._,minFollowers:e.target.value})})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(d._,{htmlFor:"minVideoDuration",children:"Min. Video S\xfcresi (sn)"}),s.jsx(l.I,{id:"minVideoDuration",type:"number",min:"5",max:"180",placeholder:"15",value:_.minVideoDuration,onChange:e=>F({..._,minVideoDuration:e.target.value})})]})]})]}),(0,s.jsxs)(o.Zb,{children:[s.jsx(o.Ol,{className:"pb-3",children:(0,s.jsxs)(o.ll,{className:"text-base flex items-center gap-2",children:[s.jsx(j.Z,{className:"h-4 w-4 text-primary"}),"Zamanlama"]})}),(0,s.jsxs)(o.aY,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(d._,{children:"Başlangı\xe7 Tarihi"}),s.jsx(N.M,{date:S,setDate:e=>{T(e),F(a=>({...a,startDate:e?e.toISOString():""}))},disabled:e=>e<new Date(new Date().setHours(0,0,0,0)),placeholder:"Se\xe7iniz"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(d._,{children:"Bitiş Tarihi"}),s.jsx(N.M,{date:Z,setDate:e=>{P(e),F(a=>({...a,endDate:e?e.toISOString():""}))},disabled:e=>{let a=new Date;return a.setHours(0,0,0,0),e<a||!!S&&e<=S},placeholder:"Se\xe7iniz"})]})]})]})]})]})]}),s.jsx("div",{className:"space-y-6",children:s.jsx(o.Zb,{className:"border-primary/20 shadow-lg sticky top-6",children:(0,s.jsxs)(o.aY,{className:"space-y-6 pt-6",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[s.jsx(d._,{className:"text-base font-semibold",children:"Toplam B\xfct\xe7e"}),(0,s.jsxs)("div",{className:"relative",children:[s.jsx(b,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),s.jsx(l.I,{type:"number",min:"20000",placeholder:"20000",className:"pl-12 h-14 text-2xl font-bold",value:_.totalBudget,onChange:e=>F({..._,totalBudget:e.target.value})})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between text-xs text-muted-foreground px-1",children:[s.jsx("span",{children:"Min: ₺20,000.00"}),s.jsx("span",{className:"text-primary",children:"Platform \xfccreti dahildir"})]}),_.totalBudget&&!isNaN(parseFloat(_.totalBudget))&&parseFloat(_.totalBudget)>=2e4&&(0,s.jsxs)("div",{className:"bg-primary/10 p-3 rounded-lg border border-primary/20 mt-2",children:[(0,s.jsxs)("div",{className:"text-sm font-medium flex justify-between",children:[s.jsx("span",{children:"Maksimum Katılımcı:"}),s.jsx("span",{className:"font-bold",children:Math.floor(parseFloat(_.totalBudget)/100)})]}),s.jsx("p",{className:"text-[10px] text-muted-foreground mt-1",children:"Her 1000 TL b\xfct\xe7e i\xe7in 10 katılımcı hakkı tanımlanır."})]}),(0,s.jsxs)("div",{className:"pt-2",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Mevcut Bakiye:"}),s.jsx("span",{className:"font-medium",children:(0,v.xG)(I)})]}),_.totalBudget&&!isNaN(parseFloat(_.totalBudget))&&(0,s.jsxs)("div",{className:(0,v.cn)("flex justify-between text-sm mt-1",I-parseFloat(_.totalBudget)<0?"text-red-500":"text-green-600"),children:[s.jsx("span",{children:"Kalan Bakiye:"}),s.jsx("span",{className:"font-bold",children:(0,v.xG)(I-parseFloat(_.totalBudget))})]})]})]}),s.jsx(k.Z,{}),(0,s.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Şarkı"}),s.jsx("span",{className:"font-medium truncate max-w-[150px]",children:A?.title||"-"})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"S\xfcre"}),s.jsx("span",{className:"font-medium",children:S&&Z?`${Math.ceil((Z.getTime()-S.getTime())/864e5)} G\xfcn`:"-"})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center pt-2 text-lg font-bold",children:[s.jsx("span",{children:"Toplam"}),s.jsx("span",{className:"text-primary",children:_.totalBudget?(0,v.xG)(parseFloat(_.totalBudget)):(0,v.xG)(0)})]})]}),s.jsx(n.z,{onClick:V,disabled:w||!_.songId||!_.totalBudget,className:"w-full h-12 text-lg font-semibold shadow-md transition-all hover:shadow-lg hover:scale-[1.02]",children:w?"Oluşturuluyor...":"Kampanyayı Başlat"}),s.jsx("p",{className:"text-[10px] text-center text-muted-foreground",children:'"Kampanyayı Başlat" butonuna tıklayarak Hizmet Koşullarımızı kabul etmiş olursunuz.'})]})})})]})]})}},567:(e,a,t)=>{"use strict";t.d(a,{C:()=>l});var s=t(10326);t(17577);var r=t(79360),i=t(77863);let n=(0,r.j)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500 text-white shadow hover:bg-green-600",warning:"border-transparent bg-yellow-500 text-white shadow hover:bg-yellow-600"}},defaultVariants:{variant:"default"}});function l({className:e,variant:a,...t}){return s.jsx("div",{className:(0,i.cn)(n({variant:a}),e),...t})}},33071:(e,a,t)=>{"use strict";t.d(a,{Ol:()=>l,SZ:()=>o,Zb:()=>n,aY:()=>c,ll:()=>d});var s=t(10326),r=t(17577),i=t(77863);let n=r.forwardRef(({className:e,...a},t)=>s.jsx("div",{ref:t,className:(0,i.cn)("rounded-xl border bg-card text-card-foreground shadow",e),...a}));n.displayName="Card";let l=r.forwardRef(({className:e,...a},t)=>s.jsx("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...a}));l.displayName="CardHeader";let d=r.forwardRef(({className:e,...a},t)=>s.jsx("h3",{ref:t,className:(0,i.cn)("font-semibold leading-none tracking-tight",e),...a}));d.displayName="CardTitle";let o=r.forwardRef(({className:e,...a},t)=>s.jsx("p",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",e),...a}));o.displayName="CardDescription";let c=r.forwardRef(({className:e,...a},t)=>s.jsx("div",{ref:t,className:(0,i.cn)("p-6 pt-0",e),...a}));c.displayName="CardContent",r.forwardRef(({className:e,...a},t)=>s.jsx("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",e),...a})).displayName="CardFooter"},62288:(e,a,t)=>{"use strict";t.d(a,{$N:()=>p,Be:()=>h,Vq:()=>d,cZ:()=>u,fK:()=>x,hg:()=>o});var s=t(10326),r=t(17577),i=t(57113),n=t(94019),l=t(77863);let d=i.fC,o=i.xz,c=i.h_;i.x8;let m=r.forwardRef(({className:e,...a},t)=>s.jsx(i.aV,{ref:t,className:(0,l.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...a}));m.displayName=i.aV.displayName;let u=r.forwardRef(({className:e,children:a,...t},r)=>(0,s.jsxs)(c,{children:[s.jsx(m,{}),(0,s.jsxs)(i.VY,{ref:r,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t,children:[a,(0,s.jsxs)(i.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(n.Z,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));u.displayName=i.VY.displayName;let x=({className:e,...a})=>s.jsx("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...a});x.displayName="DialogHeader";let p=r.forwardRef(({className:e,...a},t)=>s.jsx(i.Dx,{ref:t,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",e),...a}));p.displayName=i.Dx.displayName;let h=r.forwardRef(({className:e,...a},t)=>s.jsx(i.dk,{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",e),...a}));h.displayName=i.dk.displayName},54432:(e,a,t)=>{"use strict";t.d(a,{I:()=>n});var s=t(10326),r=t(17577),i=t(77863);let n=r.forwardRef(({className:e,type:a,...t},r)=>s.jsx("input",{type:a,className:(0,i.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));n.displayName="Input"},31048:(e,a,t)=>{"use strict";t.d(a,{_:()=>o});var s=t(10326),r=t(17577),i=t(34478),n=t(79360),l=t(77863);let d=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=r.forwardRef(({className:e,...a},t)=>s.jsx(i.f,{ref:t,className:(0,l.cn)(d(),e),...a}));o.displayName=i.f.displayName},24989:(e,a,t)=>{"use strict";t.d(a,{M:()=>D});var s=t(10326),r=t(17577),i=t(47225),n=t(85065),l=t(80748),d=t(78306),o=t(51938),c=t(9663),m=t(99068),u=t(21476),x=t(78432),p=t(30169),h=t(69781),f=t(7618),g=t(37358),y=t(11890),j=t(39183),b=t(77863),N=t(90772),v=t(12790);let k=v.fC,w=v.xz,C=r.forwardRef(({className:e,align:a="center",sideOffset:t=4,...r},i)=>s.jsx(v.h_,{children:s.jsx(v.VY,{ref:i,align:a,sideOffset:t,className:(0,b.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));function D({date:e,setDate:a,disabled:t,placeholder:v="Tarih se\xe7in"}){let[D,z]=r.useState(new Date),[S,T]=r.useState(!1),Z=r.useMemo(()=>{let e=(0,i.z)((0,n.N)(D),{weekStartsOn:1}),a=(0,l.v)((0,d.V)(D),{weekStartsOn:1});return(0,o.D)({start:e,end:a})},[D]),P=e=>{t&&t(e)||(a(e),T(!1))};return(0,s.jsxs)(k,{open:S,onOpenChange:T,children:[s.jsx(w,{asChild:!0,children:(0,s.jsxs)(N.z,{variant:"outline",className:(0,b.cn)("w-full justify-start text-left font-normal",!e&&"text-muted-foreground"),children:[s.jsx(g.Z,{className:"mr-2 h-4 w-4"}),e?(0,u.WU)(e,"dd MMMM yyyy",{locale:f.tr}):s.jsx("span",{children:v})]})}),s.jsx(C,{className:"w-auto p-0",align:"start",children:(0,s.jsxs)("div",{className:"p-3 w-[280px]",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4 space-x-2",children:[s.jsx(N.z,{variant:"outline",size:"icon",className:"h-7 w-7",onClick:e=>{e.preventDefault(),z((0,c.W)(D,1))},children:s.jsx(y.Z,{className:"h-4 w-4"})}),s.jsx("div",{className:"font-medium text-sm",children:(0,u.WU)(D,"MMMM yyyy",{locale:f.tr})}),s.jsx(N.z,{variant:"outline",size:"icon",className:"h-7 w-7",onClick:e=>{e.preventDefault(),z((0,m.z)(D,1))},children:s.jsx(j.Z,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Pt","Sa","\xc7a","Pe","Cu","Ct","Pz"].map(e=>s.jsx("div",{className:"text-center text-[0.8rem] text-muted-foreground font-medium h-8 flex items-center justify-center",children:e},e))}),s.jsx("div",{className:"grid grid-cols-7 gap-1",children:Z.map((a,r)=>{let i=!!e&&(0,x.K)(a,e),n=(0,p.x)(a,D),l=!!t&&t(a);return s.jsx("button",{onClick:()=>P(a),disabled:l,className:(0,b.cn)("h-8 w-8 p-0 text-sm font-normal rounded-md flex items-center justify-center transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",!n&&"text-muted-foreground opacity-50 invisible",i&&"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground",!i&&n&&!l&&"hover:bg-accent hover:text-accent-foreground",l&&"text-muted-foreground opacity-50 cursor-not-allowed hover:bg-transparent",(0,h.z)(a)&&!i&&"bg-accent text-accent-foreground"),children:s.jsx("time",{dateTime:(0,u.WU)(a,"yyyy-MM-dd"),children:(0,u.WU)(a,"d")})},a.toString())})})]})})]})}C.displayName=v.VY.displayName},68483:(e,a,t)=>{"use strict";t.d(a,{Z:()=>c});var s=t(10326),r=t(17577),i=t(45226),n="horizontal",l=["horizontal","vertical"],d=r.forwardRef((e,a)=>{let{decorative:t,orientation:r=n,...d}=e,o=l.includes(r)?r:n;return(0,s.jsx)(i.WV.div,{"data-orientation":o,...t?{role:"none"}:{"aria-orientation":"vertical"===o?o:void 0,role:"separator"},...d,ref:a})});d.displayName="Separator";var o=t(77863);let c=r.forwardRef(({className:e,orientation:a="horizontal",decorative:t=!0,...r},i)=>s.jsx(d,{ref:i,decorative:t,orientation:a,className:(0,o.cn)("shrink-0 bg-border","horizontal"===a?"h-[1px] w-full":"h-full w-[1px]",e),...r}));c.displayName=d.displayName},72567:(e,a,t)=>{"use strict";t.d(a,{u:()=>g});var s=t(10326),r=t(17577),i=t(35047),n=t(90772),l=t(54432),d=t(31048),o=t(33071),c=t(567),m=t(85999),u=t(17069),x=t(49758),p=t(77506);let h=(0,t(62881).Z)("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);var f=t(77863);function g({onSuccess:e,variant:a="default",showHeader:t=!0}){let g=(0,i.useRouter)(),[y,j]=(0,r.useState)(!1),[b,N]=(0,r.useState)(!1),[v,k]=(0,r.useState)(null),[w,C]=(0,r.useState)({tiktokUrl:""}),D=async()=>{if(!w.tiktokUrl){m.Am.error("L\xfctfen bir TikTok linki girin");return}if(!w.tiktokUrl.includes("tiktok.com")){m.Am.error("Ge\xe7erli bir TikTok linki girin");return}N(!0);try{let a=await fetch("/api/songs/upload",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tiktokUrl:w.tiktokUrl})});if(!a.ok){let e=await a.json();throw Error(e.error||"Şarkı detayları alınamadı")}let t=await a.json();k({id:t.song.id,title:t.song.title,duration:t.song.duration||0,coverImage:t.song.coverImage,videoCount:t.videoCount,authorName:t.song.authorName}),m.Am.success("Şarkı başarıyla eklendi!"),e?e(t.song):(g.push("/artist/campaigns/new"),g.refresh())}catch(e){console.error("Fetch error:",e),m.Am.error(e.message||"Şarkı detayları alınamadı")}finally{N(!1)}},z=async e=>{e.preventDefault(),await D()},S=(0,s.jsxs)("form",{onSubmit:z,className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(d._,{htmlFor:"tiktokUrl",children:"TikTok Video Linki *"}),s.jsx("div",{className:"flex gap-2",children:s.jsx(l.I,{id:"tiktokUrl",placeholder:"https://www.tiktok.com/@user/video/...",value:w.tiktokUrl,onChange:e=>C({...w,tiktokUrl:e.target.value}),required:!0,disabled:b||y})}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:[s.jsx("strong",{children:"\xd6nerilen:"})," Şarkınızı kullanan bir TikTok video linki yapıştırın (\xf6rn: tiktok.com/@user/video/123). Şarkı bilgileri otomatik olarak \xe7ekilecektir."]})]}),v&&(0,s.jsxs)("div",{className:"rounded-md border p-4 space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[v.coverImage&&s.jsx("img",{src:v.coverImage,alt:v.title,className:"h-20 w-20 rounded object-cover"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h4",{className:"font-semibold",children:v.title}),v.videoCount&&v.videoCount>1e4&&(0,s.jsxs)(c.C,{variant:"default",className:"gap-1",children:[s.jsx(u.Z,{className:"h-3 w-3"}),"Trend"]})]}),v.authorName&&s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:v.authorName}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:["S\xfcre: ",Math.floor(v.duration/60),":",(v.duration%60).toString().padStart(2,"0")]})]})]}),null!==v.videoCount&&void 0!==v.videoCount&&s.jsx("div",{className:"pt-3 border-t",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"rounded-full bg-primary/10 p-2",children:s.jsx(x.Z,{className:"h-4 w-4 text-primary"})}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:(0,f.uf)(v.videoCount)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"TikTok'ta Oluşturulan Video"})]})]})}),s.jsx("div",{className:"rounded-md bg-green-50 dark:bg-green-950 p-3 text-center",children:s.jsx("p",{className:"text-sm font-medium text-green-700 dark:text-green-300",children:"✓ Şarkı başarıyla eklendi! Kampanya oluşturmaya hazır."})})]}),s.jsx(n.z,{type:"submit",disabled:b||y||!w.tiktokUrl,className:"w-full gap-2",children:b?(0,s.jsxs)(s.Fragment,{children:[s.jsx(p.Z,{className:"h-4 w-4 animate-spin"}),"Şarkı ekleniyor..."]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(h,{className:"h-4 w-4"}),"Şarkı Ekle"]})})]});return"plain"===a?(0,s.jsxs)("div",{className:"space-y-4",children:[t&&(0,s.jsxs)("div",{className:"space-y-1.5 p-6 pl-0 pt-0",children:[s.jsx("h3",{className:"font-semibold leading-none tracking-tight",children:"Şarkı Ekle"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"TikTok m\xfczik veya video linkini yapıştırarak şarkınızı ekleyin"})]}),S]}):(0,s.jsxs)(o.Zb,{children:[t&&(0,s.jsxs)(o.Ol,{children:[s.jsx(o.ll,{children:"Şarkı Ekle"}),s.jsx(o.SZ,{children:"TikTok m\xfczik veya video linkini yapıştırarak şarkınızı ekleyin"})]}),s.jsx(o.aY,{children:S})]})}},66307:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});let s=(0,t(62881).Z)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},49758:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});let s=(0,t(62881).Z)("video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]])},79157:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>i,dynamic:()=>r});var s=t(68570);let r=(0,s.createProxy)(String.raw`C:\Users\ilker\Desktop\sesar-web\app\(dashboard)\artist\campaigns\new\page.tsx#dynamic`),i=(0,s.createProxy)(String.raw`C:\Users\ilker\Desktop\sesar-web\app\(dashboard)\artist\campaigns\new\page.tsx#default`)},22041:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>i,dynamic:()=>r});var s=t(84427);let r="force-dynamic";async function i({children:e}){return await (0,s.Jt)(),e}}};var a=require("../../../../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),s=a.X(0,[8948,958,6978,5383,2736,3738,8690,9137],()=>t(41699));module.exports=s})();